# CS203A Assignment IV: Hash Function Design & Testing

* **學生**：楊弘宇 
* **學號**：1101248

## 1. 雜湊演算法實作說明

在本作業中，我針對整數與字串分別實作了兩套雜湊邏輯，並對比其分布效果。

### (1) 整數雜湊：中平方法 (Mid-Square Method)
* **邏輯**：先將 Key 平方，再從結果中取出中間位數作為索引基礎。
* **為什麼選這個？**：比起單純的 Division (取模)，中平方法能更有效地打散「連續性」的輸入資料（例如 21, 22...）。平方運算能放大差異，提取中間位數則能避開高低位元可能存在的規律。

### (2) 字串雜湊：ASCII 累加法 (Sum of ASCII)
* **邏輯**：遍歷字串中的每個字元，將其 ASCII 數值加總後對表長取模。
* **思考**：這是最務實的做法，確保了字串中每個字元都對結果有貢獻，比只取首字元來計算更具隨機性。

---

## 2. 實驗數據觀察紀錄

測試資料包含：21-30, 51-60 (整數) 與 10 組動物名稱 (字串)。

| Table Size ($m$) | 演算法 | 觀察結果分析 |
| :--- | :--- | :--- |
| **10** | Division | 發生嚴重的「線性碰撞」。21-30 與 51-60 完全撞在相同位置，分布極度不均。 |
| **11 (Prime)** | Mid-Square | 數據分布明顯變散，不再有連續的索引塊，碰撞情況大幅改善。 |
| **37 (Prime)** | Mid-Square | 幾乎沒有發生碰撞。大表長配合非線性演算法效果最好。 |

---

## 3. 分析與反思 

這是我在實作過程中的核心發現：

1. **質數的力量**：當 $m=11$ 或 $37$ 時，雜湊分布的隨機感明顯優於 $m=10$。這證實了課堂所說，選擇質數作為表長能減少週期性碰撞。
2. **演算法 vs 表長**：Division 方法即便增加表長，對於連續輸入（如 21, 22...）仍有很強的線性相關。中平方法雖然計算稍多，但在處理有規律的資料時，其「擴散性」更勝一籌。
3. **字串雜湊的局限**：目前的 ASCII 累加法雖然簡單，但在遇到相同字元組成的字串（如 "abc" 與 "cba"）時會產生碰撞。未來若要優化，我會考慮引入位移權重。


## 4. 執行方式
```bash
make all
./build/hash_c
./build/hash_cpp
